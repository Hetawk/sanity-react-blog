// This is your Prisma schema file
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Work {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  projectLink String?
  codeLink    String?
  imgUrl      String? @db.Text
  tags        String? @db.Text

  // Content Management
  isPublished  Boolean @default(false)
  isDraft      Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Enhanced Metadata
  category  String?
  techStack String? @db.Text
  impact    String? @db.Text
  duration  String?
  role      String?

  // SEO & Discovery
  slug      String? @unique
  metaTitle String?
  metaDesc  String? @db.Text
  keywords  String? @db.Text

  // Engagement
  views Int @default(0)
  likes Int @default(0)

  // === GitHub Integration Fields ===
  // Repository Information
  githubUrl       String?
  githubOwner     String?
  githubRepo      String?
  isPrivateRepo   Boolean @default(false)
  isGithubProject Boolean @default(false)

  // Repository Metrics
  githubStars    Int?
  githubForks    Int?
  githubWatchers Int?
  githubIssues   Int?

  // Project Analysis
  projectCategory    String?
  projectSubCategory String?
  totalFiles         Int?
  totalFolders       Int?
  maxDepth           Int?

  // Technology Stack (Enhanced - structured)
  languages       String? @db.Text
  frameworks      String? @db.Text
  uiLibraries     String? @db.Text
  databases       String? @db.Text
  testingTools    String? @db.Text
  buildTools      String? @db.Text
  deploymentTools String? @db.Text

  // Project Features
  hasTests  Boolean @default(false)
  hasDocs   Boolean @default(false)
  hasCI     Boolean @default(false)
  hasDocker Boolean @default(false)

  // Project Structure
  topLevelFolders String? @db.Text
  keyFiles        String? @db.Text
  filesByType     String? @db.Text

  // Insights & Analysis
  insights    String? @db.Text
  complexity  String?
  codeQuality String?

  // Content (Enhanced)
  readmePreview String? @db.LongText
  fullReadme    String? @db.LongText

  // Licensing
  license    String?
  licenseUrl String?

  // Project Timeline
  githubCreatedAt DateTime?
  githubUpdatedAt DateTime?
  lastPushedAt    DateTime?

  // Repository Status
  isArchived    Boolean @default(false)
  isTemplate    Boolean @default(false)
  defaultBranch String?

  // Collaboration
  contributors String? @db.Text
  topics       String? @db.Text

  // External Links
  homepage      String?
  documentation String?

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  // === Indexes ===
  @@index([isPublished, isFeatured, displayOrder])
  @@index([slug])
  @@index([deletedAt])
  @@index([isPrivateRepo])
  @@index([isGithubProject])
  @@index([projectCategory])
  @@index([githubStars])
  @@index([hasTests, hasDocs, hasCI])
  @@index([isArchived])
  @@map("works")
}

model About {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  imgUrl      String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Professional Profile Enhancement
  sectionType  String?
  headline     String?
  expertise    String? @db.Text
  achievements String? @db.Text
  philosophy   String? @db.Text
  languages    String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([sectionType])
  @@index([deletedAt])
  @@map("abouts")
}

model Skill {
  id      String  @id @default(uuid())
  name    String
  bgColor String?
  icon    String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Expertise Enhancement
  category         String?
  proficiencyLevel Int?
  yearsExperience  Float?

  // Context & Usage
  description    String? @db.Text
  projectsUsed   String? @db.Text
  certifications String? @db.Text

  // Learning & Growth
  lastUsed     DateTime?
  learningPath String?   @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([proficiencyLevel])
  @@index([deletedAt])
  @@map("skills")
}

model Experience {
  id    String  @id @default(uuid())
  year  String
  works String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Timeline Enhancement
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)

  // Rich Context
  period       String?
  category     String?
  summary      String? @db.Text
  achievements String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([year])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("experiences")
}

model WorkExperience {
  id      String  @id @default(uuid())
  name    String
  company String?
  desc    String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Professional Details
  position       String?
  location       String?
  locationType   String?
  employmentType String?

  // Timeline
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)
  duration  String?

  // Rich Content
  responsibilities String? @db.Text
  achievements     String? @db.Text
  skills           String? @db.Text
  teamSize         Int?

  // Links & Media
  companyUrl  String?
  companyLogo String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([company])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("workExperiences")
}

model Brand {
  id     String  @id @default(uuid())
  name   String
  imgUrl String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Brand Details
  category    String?
  description String? @db.Text
  website     String?

  // Relationship
  relationship String?
  startDate    DateTime?
  endDate      DateTime?

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([deletedAt])
  @@map("brands")
}

model Award {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  date        String?
  imgUrl      String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Award Details
  category  String?
  issuer    String?
  level     String?
  year      Int?
  awardDate DateTime?

  // Rich Content
  criteria String? @db.Text
  impact   String? @db.Text
  link     String?

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([year])
  @@index([deletedAt])
  @@map("awards")
}

model Contact {
  id      String @id @default(uuid())
  name    String
  email   String
  message String @db.Text

  // Status Management
  isRead    Boolean @default(false)
  isReplied Boolean @default(false)
  status    String? @default("new")

  // Contact Details
  phone    String?
  company  String?
  subject  String?
  category String?

  // Response
  reply     String?   @db.Text
  repliedAt DateTime?
  notes     String?   @db.Text

  // Timestamps
  createdAt DateTime @default(now())

  @@index([isRead, status])
  @@index([category])
  @@index([createdAt])
  @@map("contacts")
}

model Resume {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  fileUrl     String?
  fileName    String?
  fileSize    Int?

  // Status
  isActive     Boolean @default(false)
  isPublished  Boolean @default(false)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Resume Targeting
  targetType     String?
  targetIndustry String?
  targetRole     String?

  // Version Control
  version   String?
  downloads Int     @default(0)
  views     Int     @default(0)

  // Timestamps
  uploadedAt DateTime  @default(now())
  deletedAt  DateTime?
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt

  @@index([isActive, isPublished])
  @@index([targetType])
  @@index([deletedAt])
  @@map("resumes")
}

model ResearchStatement {
  id            String  @id @default(uuid())
  title         String
  elevatorPitch String? @db.Text

  // Content Management
  isPublished  Boolean @default(false)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Research Content
  currentFocus   String? @db.Text
  pastResearch   String? @db.Text
  collaborations String? @db.Text
  fundingSources String? @db.Text

  // Methodology & Approach
  methodology      String? @db.Text
  futureDirections String? @db.Text

  // Impact
  publications String? @db.Text
  keyFindings  String? @db.Text
  impact       String? @db.Text

  // Engagement
  views     Int @default(0)
  downloads Int @default(0)

  // Timestamps
  publishedAt DateTime?
  deletedAt   DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([isPublished, isFeatured])
  @@index([deletedAt])
  @@map("research_statements")
}

model Testimonial {
  id       String  @id @default(uuid())
  name     String
  position String?
  company  String?

  // Content Management
  isPublished  Boolean @default(false)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Testimonial Content
  testimonial  String  @db.Text
  rating       Int?
  category     String?
  relationship String?

  // Visuals
  avatar          String? @db.Text
  companyLogo     String? @db.Text
  linkedinUrl     String?
  verificationUrl String?

  // Context
  projectWorkedOn String?
  dateGiven       DateTime?
  isVerified      Boolean   @default(false)

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([relationship])
  @@index([deletedAt])
  @@map("testimonials")
}

model Publication {
  id       String  @id @default(uuid())
  title    String
  abstract String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Publication Details
  authors         String    @db.Text
  venue           String?
  year            Int?
  publicationDate DateTime?

  // Type & Category
  type     String?
  category String?

  // Links & DOI
  doi        String?
  pdfUrl     String?
  projectUrl String?
  arxivUrl   String?

  // Metrics
  citations Int @default(0)
  views     Int @default(0)
  downloads Int @default(0)

  // Rich Content
  keywords String? @db.Text
  bibtex   String? @db.Text
  notes    String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([type, year])
  @@index([deletedAt])
  @@map("publications")
}

model Leadership {
  id           String  @id @default(uuid())
  title        String
  organization String?
  description  String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Leadership Details
  role     String?
  category String?

  // Timeline
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)
  duration  String?

  // Impact & Metrics
  impact       String? @db.Text
  teamSize     Int?
  achievements String? @db.Text

  // Media
  imgUrl     String? @db.Text
  logoUrl    String? @db.Text
  websiteUrl String?

  // Rich Content
  story      String? @db.LongText
  highlights String? @db.Text
  skills     String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("leadership")
}

model JourneySection {
  id         String  @id @default(uuid())
  partNumber Int
  title      String
  subtitle   String?

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Main Content
  content String  @db.LongText
  summary String? @db.Text

  // Timeline
  startYear Int?
  endYear   Int?
  period    String?

  // Categorization
  category String?
  icon     String?

  // Media
  coverImage   String? @db.Text
  images       String? @db.Text
  mediaGallery String? @db.Text

  // Rich Content
  highlights   String? @db.Text
  achievements String? @db.Text
  lessons      String? @db.Text
  keyPeople    String? @db.Text

  // Role Context
  role        String?
  institution String?
  location    String?

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, displayOrder])
  @@index([partNumber])
  @@index([category])
  @@index([deletedAt])
  @@map("journey_sections")
}
