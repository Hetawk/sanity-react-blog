// This is your Prisma schema file
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Work {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  projectLink String?
  codeLink    String?
  imgUrl      String? @db.Text
  tags        String? @db.Text

  // Content Management
  isPublished  Boolean @default(false)
  isDraft      Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Enhanced Metadata
  category  String?
  techStack String? @db.Text
  impact    String? @db.Text
  duration  String?
  role      String?

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // SEO & Discovery
  slug      String? @unique
  metaTitle String?
  metaDesc  String? @db.Text
  keywords  String? @db.Text

  // Engagement
  views Int @default(0)
  likes Int @default(0)

  // === GitHub Integration Fields ===
  // Repository Information
  githubUrl       String?
  githubOwner     String?
  githubRepo      String?
  isPrivateRepo   Boolean @default(false)
  isGithubProject Boolean @default(false)

  // Repository Metrics
  githubStars    Int?
  githubForks    Int?
  githubWatchers Int?
  githubIssues   Int?

  // Project Analysis
  projectCategory    String?
  projectSubCategory String?
  totalFiles         Int?
  totalFolders       Int?
  maxDepth           Int?

  // Technology Stack (Enhanced - structured)
  languages       String? @db.Text
  frameworks      String? @db.Text
  uiLibraries     String? @db.Text
  databases       String? @db.Text
  testingTools    String? @db.Text
  buildTools      String? @db.Text
  deploymentTools String? @db.Text

  // Project Features
  hasTests  Boolean @default(false)
  hasDocs   Boolean @default(false)
  hasCI     Boolean @default(false)
  hasDocker Boolean @default(false)

  // Project Structure
  topLevelFolders String? @db.Text
  keyFiles        String? @db.Text
  filesByType     String? @db.Text

  // Insights & Analysis
  insights    String? @db.Text
  complexity  String?
  codeQuality String?

  // Content (Enhanced)
  readmePreview String? @db.LongText
  fullReadme    String? @db.LongText

  // Licensing
  license    String?
  licenseUrl String?

  // Project Timeline
  githubCreatedAt DateTime?
  githubUpdatedAt DateTime?
  lastPushedAt    DateTime?

  // Repository Status
  isArchived    Boolean @default(false)
  isTemplate    Boolean @default(false)
  defaultBranch String?

  // Collaboration
  contributors String? @db.Text
  topics       String? @db.Text

  // External Links
  homepage      String?
  documentation String?

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  // === Indexes ===
  @@index([isPublished, isFeatured, displayOrder])
  @@index([slug])
  @@index([deletedAt])
  @@index([isPrivateRepo])
  @@index([isGithubProject])
  @@index([projectCategory])
  @@index([githubStars])
  @@index([hasTests, hasDocs, hasCI])
  @@index([isArchived])
  @@map("works")
}

model About {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  imgUrl      String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Professional Profile Enhancement
  sectionType  String?
  headline     String?
  expertise    String? @db.Text
  achievements String? @db.Text
  philosophy   String? @db.Text
  languages    String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([sectionType])
  @@index([deletedAt])
  @@map("abouts")
}

model Skill {
  id      String  @id @default(uuid())
  name    String
  bgColor String?
  icon    String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Expertise Enhancement
  category         String?
  proficiencyLevel Int?
  yearsExperience  Float?

  // Context & Usage
  description    String? @db.Text
  projectsUsed   String? @db.Text
  certifications String? @db.Text

  // Learning & Growth
  lastUsed     DateTime?
  learningPath String?   @db.Text

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([proficiencyLevel])
  @@index([deletedAt])
  @@map("skills")
}

model Experience {
  id    String  @id @default(uuid())
  year  String
  works String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Timeline Enhancement
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)

  // Rich Context
  period       String?
  category     String?
  summary      String? @db.Text
  achievements String? @db.Text

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([year])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("experiences")
}

model WorkExperience {
  id      String  @id @default(uuid())
  name    String
  company String?
  desc    String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Professional Details
  position       String?
  location       String?
  locationType   String?
  employmentType String?

  // Timeline
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)
  duration  String?

  // Rich Content
  responsibilities String? @db.Text
  achievements     String? @db.Text
  skills           String? @db.Text
  teamSize         Int?

  // Links & Media
  companyUrl  String?
  companyLogo String? @db.Text

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([company])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("workExperiences")
}

model Brand {
  id     String  @id @default(uuid())
  name   String
  imgUrl String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Brand Details
  category    String?
  description String? @db.Text
  website     String?

  // Relationship
  relationship String?
  startDate    DateTime?
  endDate      DateTime?

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([deletedAt])
  @@map("brands")
}

model Award {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  date        String?
  imgUrl      String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Award Details
  category  String?
  issuer    String?
  level     String?
  year      Int?
  awardDate DateTime?

  // Rich Content
  criteria String? @db.Text
  impact   String? @db.Text
  link     String?

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([year])
  @@index([deletedAt])
  @@map("awards")
}

// Certification Model
model Certification {
  id          String  @id @default(uuid())
  name        String
  description String? @db.Text
  issuer      String // Issuing organization
  issuerLogo  String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Certification Details
  credentialId  String?
  credentialUrl String?
  category      String?

  // Timeline
  issueDate      DateTime?
  expirationDate DateTime?
  isNonExpiring  Boolean   @default(false)

  // Skills & Context
  skills     String? @db.Text // JSON array of skills
  level      String? // e.g., "Associate", "Professional", "Expert"
  technology String? // Primary technology

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([issuer])
  @@index([category])
  @@index([issueDate])
  @@index([deletedAt])
  @@map("certifications")
}

// Education Model
model Education {
  id          String  @id @default(uuid())
  degree      String // e.g., "Bachelor of Science", "Master of Arts"
  field       String // e.g., "Computer Science", "Business Administration"
  institution String
  location    String?
  description String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Timeline
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)

  // Academic Details
  gpa          String? // e.g., "3.8/4.0"
  honors       String? @db.Text // e.g., "Magna Cum Laude"
  thesis       String? @db.Text
  coursework   String? @db.Text // JSON array of relevant courses
  activities   String? @db.Text // JSON array of activities
  achievements String? @db.Text

  // Media
  logoUrl    String? @db.Text
  websiteUrl String?

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([institution])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("education")
}

// Volunteer/Community Work Model
model VolunteerWork {
  id           String  @id @default(uuid())
  role         String
  organization String
  location     String?
  description  String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Timeline
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)

  // Details
  category     String? // e.g., "Education", "Environment", "Health"
  impact       String? @db.Text
  achievements String? @db.Text
  skills       String? @db.Text // JSON array

  // Media
  logoUrl    String? @db.Text
  websiteUrl String?

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([organization])
  @@index([category])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("volunteer_work")
}

// Professional Reference Model
model Reference {
  id       String  @id @default(uuid())
  name     String
  title    String? // e.g., "Senior Manager", "Professor"
  company  String? // Company/Organization
  email    String?
  phone    String?
  linkedin String?

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Relationship Details
  relationship     String? // e.g., "Former Manager", "Colleague", "Academic Advisor"
  relationshipType String? // e.g., "professional", "academic", "personal"
  knownSince       DateTime?
  yearsKnown       Int?

  // Context
  company_context String? @db.Text // What company/role did you work together
  description     String? @db.Text // Additional context about the relationship

  // Consent & Privacy
  hasConsent     Boolean   @default(false) // Has given permission to be contacted
  consentDate    DateTime?
  isConfidential Boolean   @default(false) // Only share with specific employers

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([relationship])
  @@index([deletedAt])
  @@map("references")
}

// Language Proficiency Model
model LanguageProficiency {
  id       String @id @default(uuid())
  language String // e.g., "English", "German", "Mandarin"
  level    String // e.g., "Native", "Fluent", "Professional", "Intermediate"

  // Content Management
  isPublished  Boolean @default(true)
  displayOrder Int     @default(0)

  // Proficiency Details
  reading   String? // e.g., "Native", "Fluent", "Intermediate"
  writing   String?
  speaking  String?
  listening String?

  // Certifications
  certifications String? @db.Text // JSON array of language certifications

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([language])
  @@index([isPublished, displayOrder])
  @@map("language_proficiencies")
}

model Contact {
  id      String @id @default(uuid())
  name    String
  email   String
  message String @db.Text

  // Status Management
  isRead    Boolean @default(false)
  isReplied Boolean @default(false)
  status    String? @default("new")

  // Contact Details
  phone    String?
  company  String?
  subject  String?
  category String?

  // Response
  reply     String?   @db.Text
  repliedAt DateTime?
  notes     String?   @db.Text

  // Timestamps
  createdAt DateTime @default(now())

  @@index([isRead, status])
  @@index([category])
  @@index([createdAt])
  @@map("contacts")
}

// Resume Country Configuration
model ResumeCountry {
  id          String  @id @default(uuid())
  code        String  @unique // e.g., "US", "UK", "DE", "CA", "AU"
  name        String  @unique // e.g., "United States", "United Kingdom"
  description String? @db.Text

  // Best practices for this country
  guidelines      String? @db.LongText // Markdown with resume best practices
  dateFormat      String? // e.g., "MM/DD/YYYY" or "DD/MM/YYYY"
  preferredLength Int? // Preferred page count (e.g., 1, 2, 3)
  keyHighlights   String? @db.Text // JSON array of important elements

  // Status
  isActive     Boolean @default(true)
  displayOrder Int     @default(0)

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relationships
  templates      ResumeTemplate[]
  resumes        Resume[]
  resumeContents ResumeContent[]

  @@index([isActive, displayOrder])
  @@map("resume_countries")
}

// Resume Type (Work, Education/Study)
model ResumeType {
  id          String  @id @default(uuid())
  name        String  @unique // e.g., "Professional", "Academic", "Hybrid"
  description String? @db.Text

  // Type Configuration
  sections   String? @db.Text // JSON array of sections used in this type
  guidelines String? @db.LongText

  // Status
  isActive Boolean @default(true)

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relationships
  templates      ResumeTemplate[]
  resumes        Resume[]
  resumeContents ResumeContent[]

  @@map("resume_types")
}

// Resume Template (Country-specific, type-specific formats)
model ResumeTemplate {
  id          String  @id @default(uuid())
  name        String // e.g., "Modern Tech UK", "Academic Germany"
  description String? @db.Text

  // Template Configuration
  countryId String
  country   ResumeCountry @relation(fields: [countryId], references: [id], onDelete: Cascade)

  typeId String
  type   ResumeType @relation(fields: [typeId], references: [id], onDelete: Cascade)

  // Template Design
  layout      String? @db.Text // JSON object with layout configuration
  colorScheme String? // JSON object with colors
  fontFamily  String? // Primary font family
  typography  String? @db.Text // JSON object with typography settings

  // Template Content Structure
  sections  String? @db.Text // JSON array defining sections and their order
  customCSS String? @db.LongText // Custom CSS for this template

  // Template Metadata
  thumbnail  String? @db.Text // Image URL for template preview
  difficulty String? // "simple", "moderate", "advanced"

  // Status
  isActive     Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Usage Tracking
  usageCount Int @default(0)

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relationships
  resumes ResumeContent[]

  @@index([countryId, typeId])
  @@index([isActive, isFeatured])
  @@map("resume_templates")
}

// Resume Content (Actual resume data)
model ResumeContent {
  id          String  @id @default(uuid())
  title       String // e.g., "Senior Developer Resume"
  description String? @db.Text
  slug        String? @unique // URL-friendly slug for public access

  // Template & Configuration
  templateId String
  template   ResumeTemplate @relation(fields: [templateId], references: [id], onDelete: Restrict)

  countryId String
  country   ResumeCountry @relation(fields: [countryId], references: [id], onDelete: Restrict)

  typeId String
  type   ResumeType @relation(fields: [typeId], references: [id], onDelete: Restrict)

  // Personal Information
  fullName          String?
  email             String?
  phone             String?
  location          String?
  summary           String? @db.Text
  linkedinUrl       String?
  portfolioUrl      String?
  githubUrl         String?
  githubPersonalUrl String?

  // Experience & Education
  experience     String? @db.LongText // JSON array of experiences
  education      String? @db.LongText // JSON array of education
  skills         String? @db.Text // JSON array of skills
  certifications String? @db.Text // JSON array
  languages      String? @db.Text // JSON array

  // Additional Content
  projects      String? @db.LongText // JSON array
  publications  String? @db.LongText // JSON array
  awards        String? @db.Text // JSON array
  volunteerWork String? @db.Text // JSON array
  references    String? @db.Text // JSON array of references

  // Custom Sections
  customSections String? @db.LongText // JSON array for user-defined sections

  // Status
  isDraft      Boolean @default(true)
  isPublished  Boolean @default(false)
  isFeatured   Boolean @default(false)
  isActive     Boolean @default(false) // Active resume shown on profile
  displayOrder Int     @default(0)

  // Visibility & Sharing
  isPublic      Boolean @default(false) // Publicly accessible
  shareableLink String? @unique // Public share link
  allowDownload Boolean @default(true) // Allow PDF download
  allowShare    Boolean @default(true) // Allow sharing
  viewPassword  String? // Optional password for viewing

  // Version Control
  version  Int     @default(1)
  parentId String? // For tracking version history

  // Analytics
  downloads Int @default(0)
  views     Int @default(0)
  shares    Int @default(0)

  // File Storage
  pdfUrl      String?   @db.Text // Generated PDF URL
  pdfFileName String?
  generatedAt DateTime?

  // Linked Portfolio Content (references to existing portfolio items)
  linkedExperiences    String? @db.Text // JSON array of WorkExperience IDs
  linkedEducation      String? @db.Text // JSON array of Education IDs
  linkedProjects       String? @db.Text // JSON array of Work IDs
  linkedAwards         String? @db.Text // JSON array of Award IDs
  linkedPublications   String? @db.Text // JSON array of Publication IDs
  linkedLeadership     String? @db.Text // JSON array of Leadership IDs
  linkedSkills         String? @db.Text // JSON array of Skill IDs
  linkedCertifications String? @db.Text // JSON array of Certification IDs
  linkedReferences     String? @db.Text // JSON array of Reference IDs
  linkedVolunteer      String? @db.Text // JSON array of VolunteerWork IDs
  linkedLanguages      String? @db.Text // JSON array of LanguageProficiency IDs

  // Metadata
  keywords  String? @db.Text // SEO keywords
  metaTitle String?
  metaDesc  String? @db.Text

  // Timestamps
  publishedAt DateTime?
  deletedAt   DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([templateId, countryId, typeId])
  @@index([isPublished, isFeatured, isActive])
  @@index([slug])
  @@index([shareableLink])
  @@index([deletedAt])
  @@index([createdAt])
  @@map("resume_contents")
}

// Resume Template Category (for better organization)
model ResumeCategory {
  id          String  @id @default(uuid())
  name        String  @unique // e.g., "Tech", "Finance", "Creative"
  description String? @db.Text
  icon        String? // Icon name or emoji

  isActive Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("resume_categories")
}

// Legacy Resume Model (for backward compatibility)
model Resume {
  id          String  @id @default(uuid())
  title       String
  description String? @db.Text
  fileUrl     String?
  fileName    String?
  fileSize    Int?

  // Status
  isActive     Boolean @default(false)
  isPublished  Boolean @default(false)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Resume Targeting
  targetType     String?
  targetIndustry String?
  targetRole     String?

  // Version Control
  version   String?
  downloads Int     @default(0)
  views     Int     @default(0)

  // Timestamps
  uploadedAt      DateTime       @default(now())
  deletedAt       DateTime?
  createdAt       DateTime       @default(now())
  updatedAt       DateTime       @updatedAt
  resumeCountry   ResumeCountry? @relation(fields: [resumeCountryId], references: [id])
  resumeCountryId String?
  resumeType      ResumeType?    @relation(fields: [resumeTypeId], references: [id])
  resumeTypeId    String?

  @@index([isActive, isPublished])
  @@index([targetType])
  @@index([deletedAt])
  @@map("resumes_legacy")
}

model ResearchStatement {
  id            String  @id @default(uuid())
  title         String
  elevatorPitch String? @db.Text

  // Content Management
  isPublished  Boolean @default(false)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Research Content
  currentFocus   String? @db.Text
  pastResearch   String? @db.Text
  collaborations String? @db.Text
  fundingSources String? @db.Text

  // Methodology & Approach
  methodology      String? @db.Text
  futureDirections String? @db.Text

  // Impact
  publications String? @db.Text
  keyFindings  String? @db.Text
  impact       String? @db.Text

  // Engagement
  views     Int @default(0)
  downloads Int @default(0)

  // Timestamps
  publishedAt DateTime?
  deletedAt   DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([isPublished, isFeatured])
  @@index([deletedAt])
  @@map("research_statements")
}

model Testimonial {
  id       String  @id @default(uuid())
  name     String
  position String?
  company  String?

  // Content Management
  isPublished  Boolean @default(false)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Testimonial Content
  testimonial  String  @db.Text
  rating       Int?
  category     String?
  relationship String?

  // Visuals
  avatar          String? @db.Text
  companyLogo     String? @db.Text
  linkedinUrl     String?
  verificationUrl String?

  // Context
  projectWorkedOn String?
  dateGiven       DateTime?
  isVerified      Boolean   @default(false)

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([relationship])
  @@index([deletedAt])
  @@map("testimonials")
}

model Publication {
  id       String  @id @default(uuid())
  title    String
  abstract String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Publication Details
  authors         String    @db.Text
  venue           String?
  year            Int?
  publicationDate DateTime?

  // Type & Category
  type     String?
  category String?

  // Links & DOI
  doi        String?
  pdfUrl     String?
  projectUrl String?
  arxivUrl   String?

  // Metrics
  citations Int @default(0)
  views     Int @default(0)
  downloads Int @default(0)

  // Rich Content
  keywords String? @db.Text
  bibtex   String? @db.Text
  notes    String? @db.Text

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([type, year])
  @@index([deletedAt])
  @@map("publications")
}

model Leadership {
  id           String  @id @default(uuid())
  title        String
  organization String?
  description  String? @db.Text

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Leadership Details
  role     String?
  category String?
  type     String  @default("leadership") // "leadership", "volunteer", "work"

  // Timeline
  startDate DateTime?
  endDate   DateTime?
  isCurrent Boolean   @default(false)
  duration  String?

  // Impact & Metrics
  impact       String? @db.Text
  teamSize     Int?
  achievements String? @db.Text

  // Media
  imgUrl     String? @db.Text
  logoUrl    String? @db.Text
  websiteUrl String?

  // Rich Content
  story      String? @db.LongText
  highlights String? @db.Text
  skills     String? @db.Text

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([category])
  @@index([startDate, endDate])
  @@index([deletedAt])
  @@map("leadership")
}

model JourneySection {
  id         String  @id @default(uuid())
  partNumber Int
  title      String
  subtitle   String?

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Main Content
  content String  @db.LongText
  summary String? @db.Text

  // Timeline
  startYear Int?
  endYear   Int?
  period    String?

  // Categorization
  category String?
  icon     String?

  // Media
  coverImage   String? @db.Text
  images       String? @db.Text
  mediaGallery String? @db.Text

  // Rich Content
  highlights   String? @db.Text
  achievements String? @db.Text
  lessons      String? @db.Text
  keyPeople    String? @db.Text

  // Role Context
  role        String?
  institution String?
  location    String?

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, displayOrder])
  @@index([partNumber])
  @@index([category])
  @@index([deletedAt])
  @@map("journey_sections")
}

model PeerReview {
  id    String @id @default(uuid())
  title String

  // Content Management
  isPublished  Boolean @default(true)
  isFeatured   Boolean @default(false)
  displayOrder Int     @default(0)

  // Review Details
  journalName    String?
  reviewType     String? // "Anonymous", "Invited", "Editorial"
  role           String? // "Reviewer", "Associate Editor", etc.
  completionDate DateTime?
  year           Int?

  // Verification
  orcidPutCode String? // ORCID put-code for verification
  issn         String?
  verified     Boolean @default(false)
  verifiedBy   String? // e.g., "Web of Science", "Elsevier"

  // Links
  reviewUrl String?

  // Organization
  organization String?
  publisher    String?

  // Metrics
  reviewCount Int @default(1) // Number of reviews for this journal

  // Resume/CV Summary (short description for resume use)
  resumeSummary String? @db.Text

  // Additional Notes
  notes String? @db.Text

  // Timestamps
  deletedAt DateTime?
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  @@index([isPublished, isFeatured, displayOrder])
  @@index([year])
  @@index([journalName])
  @@index([deletedAt])
  @@map("peer_reviews")
}
